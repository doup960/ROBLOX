-- Create the GUI
local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui")
local toggleButton = Instance.new("TextButton")

-- Set up the GUI
screenGui.Parent = player:WaitForChild("PlayerGui")  -- Add the GUI to the player's screen

toggleButton.Parent = screenGui
toggleButton.Size = UDim2.new(0, 100, 0, 50)         -- Set button size
toggleButton.Position = UDim2.new(0, 100, 0, 0)      -- Set button position next to the chat button
toggleButton.Text = "Teleport: ON"                   -- Default text when teleporting is enabled
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)  -- Green for ON state

-- Global teleport control
_G.Collect = true

-- Function to toggle teleporting on and off
local function toggleTeleport()
    if _G.Collect then
        _G.Collect = false
        toggleButton.Text = "Teleport: OFF"           -- Change button text to indicate OFF state
        toggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- Red for OFF state
    else
        _G.Collect = true
        toggleButton.Text = "Teleport: ON"            -- Change button text to indicate ON state
        toggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)  -- Green for ON state
    end
end

-- Connect the button to the toggle function
toggleButton.MouseButton1Click:Connect(toggleTeleport)

-- The teleportation loop
while task.wait() do
    if _G.Collect then
        for i, v in pairs(game:GetService("Workspace").Stuff:GetChildren()) do
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
        end
    end
end
