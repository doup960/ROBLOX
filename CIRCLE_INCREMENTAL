local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TPButton"
local toggleButton = Instance.new("TextButton")
local Rounder = Instance.new("UICorner")
screenGui.Parent = player:WaitForChild("PlayerGui")
Rounder.Parent = PlayerGui:WaitForChild("TPButton")

toggleButton.Parent = screenGui
toggleButton.Size = UDim2.new(0, 100, 0, 50)        
toggleButton.Position = UDim2.new(0, 100, 0, 0)      
toggleButton.Text = "OFF"                  
toggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  
_G.Collect = false

local function toggleTeleport()
    if _G.Collect then
        _G.Collect = false
        toggleButton.Text = "OFF" 
        toggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    else
        _G.Collect = true
        toggleButton.Text = "Teleport: ON"       
        toggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    end
end

-- Connect the button to the toggle function
toggleButton.MouseButton1Click:Connect(toggleTeleport)

-- The teleportation loop
while task.wait(0.01) do
    if _G.Collect = true then
        print("true")
        for i, v in pairs(game:GetService("Workspace").Stuff:GetChildren()) do
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
        end
    end
end
